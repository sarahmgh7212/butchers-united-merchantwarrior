// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
  binaryTargets = ["native", "rhel-openssl-1.0.x"]
}

// model businesses_businesses {
//   @@map(name: "businesses_businesses")
//   /// The value of this field is generated by the database as: `uuid_generate_v1()`.
//   uuid                               String                            @id @id @default(dbgenerated())
//   name                               String
//   abn                                String                            @unique
//   logo_uri                           String?
//   fd_location_uuid                   String?
//   createdAt                         DateTime                          @default(now()) @map("created_at")
//   updatedAt                         DateTime                          @default(now()) @map("udpated_at")
//   email                              String?
//   phone                              String?
//   baiada_ship_to                     String?
//   mcos                               Float?
//   // businesses_businesses_customers businesses_businesses_customers[]
// }

// The underlying table does not contain a valid unique identifier and can therefore currently not be handled.
// model businesses_businesses_customers {
  // @@map(name: "businesses_businesses_customers")
  // id                    Int                   @default(autoincrement())
  // business_uuid         String
  // customer_uuid         String
  // createdAt            DateTime              @default(now()) @map("created_at")
  // updatedAt            DateTime              @default(now()) @map("udpated_at")
  // businesses_businesses businesses_businesses @relation(fields: [business_uuid], references: [uuid])
// }

// The underlying table does not contain a valid unique identifier and can therefore currently not be handled.
// model businesses_businesses_users {
  // @@map(name: "businesses_businesses_users")
  // id            Int      @default(autoincrement())
  // business_uuid String
  // fd_user_uuid  String
  // createdAt    DateTime @default(now()) @map("created_at")
  // updatedAt    DateTime @default(now()) @map("udpated_at")
  // permissions   Json     @default("{\"role\": \"user\", \"permissions\": {\"edit_all\": false, \"read_all\": true, \"create_all\": false, \"delete_all\": false}}")
// }

// model customers_customers {
//   @@map(name: "customers_customers")
//   /// The value of this field is generated by the database as: `uuid_generate_v1()`.
//   uuid              String   @id @id @default(dbgenerated())
//   customerable_uuid String
//   customerable_type String
//   tags              Json?
//   createdAt        DateTime @default(now()) @map("created_at")
//   updatedAt        DateTime @default(now()) @map("udpated_at")
// }

// The underlying table does not contain a valid unique identifier and can therefore currently not be handled.
// model locations_locations {
  // @@map(name: "locations_locations")
  /// The value of this field is generated by the database as: `uuid_generate_v1()`.
  // uuid             String   @id @default(dbgenerated())
  // address_line1    String
  // address_line2    String
  // address_city     String
  // address_postcode String
  // address_state    String
  // name             String
  // This type is currently not supported.
  // coordinates      point
  // updatedAt       DateTime @default(now()) @map("udpated_at")
  // createdAt       DateTime @default(now()) @map("created_at")
// }

// The underlying table does not contain a valid unique identifier and can therefore currently not be handled.
// model migrations {
  // @@map(name: "migrations")
  // migration String
  // version   String
  // subsystem String?
  // run_at    DateTime
  // batch     Int?
// }

// The underlying table does not contain a valid unique identifier and can therefore currently not be handled.
// model notifications_dispatch {
  // @@map(name: "notifications_dispatch")
  /// The value of this field is generated by the database as: `uuid_generate_v1()`.
  // uuid              String?   @id @default(dbgenerated())
  // notification_type Int?
  // notification_time DateTime?
  // username          String?
  // mobile_number     String?
  // email             String?
  // txt_message       String?
  // mobile_uuid       String?
  // push_message      String?
// }

// The underlying table does not contain a valid unique identifier and can therefore currently not be handled.
// model orders_order_items {
  // @@map(name: "orders_order_items")
  /// The value of this field is generated by the database as: `uuid_generate_v1()`.
  // uuid            String  @id @default(dbgenerated())
  // order_uuid      String
  // fd_product_uuid String
  // qty_order       Int
  // qty_received    Int
  // cost_ex         Float
  // gst             Boolean
  // sell_ex         Float
  // is_estimate     Boolean
  // buy_qty         Float?
  // product_blob    Json?
// }

// The underlying table does not contain a valid unique identifier and can therefore currently not be handled.
// model orders_orders {
  // @@map(name: "orders_orders")
  // order_id                  Int      @default(autoincrement())
  /// The value of this field is generated by the database as: `uuid_generate_v1()`.
  // uuid                      String   @id @default(dbgenerated())
  // status                    Int      @default(0)
  // fd_delivery_location_uuid String
  // fd_customer_uuid          String
  // fd_supplier_uuid          String
  // fd_user_uuid              String
  // createdAt                DateTime @default(now()) @map("created_at")
  // updatedAt                DateTime @default(now()) @map("udpated_at")
// }

// The underlying table does not contain a valid unique identifier and can therefore currently not be handled.
// model payments_payment_methods {
  // @@map(name: "payments_payment_methods")
  /// The value of this field is generated by the database as: `uuid_generate_v1()`.
  // uuid             String    @id @default(dbgenerated())
  // provider_type    String
  // provider_id      String
  // last_four        String?
  // expiry_month     String?
  // expiry_year      String?
  // fd_customer_uuid String
  // data             Json?
  // createdAt       DateTime  @default(now()) @map("created_at")
  // updatedAt       DateTime  @default(now()) @map("udpated_at")
  // deletedAt       DateTime? @map("deleted_at")
// }

// The underlying table does not contain a valid unique identifier and can therefore currently not be handled.
// model payments_payments {
  // @@map(name: "payments_payments")
  // / The value of this field is generated by the database as: `uuid_generate_v1()`.
  // uuid                String   @id @default(dbgenerated())
  // payment_method_uuid String
  // fd_order_uuid       String
  // payment_status      String?  @default("pending")
  // receipt_number      Int?     @default(autoincrement())
  // createdAt          DateTime @default(now()) @map("created_at")
  // updatedAt          DateTime @default(now()) @map("udpated_at")
  // notes               String?
  // amount              Float?
  // transaction_type    String?  @default("charge")
// }

// model products_collections {
//   @@map(name: "products_collections")
//   /// The value of this field is generated by the database as: `uuid_generate_v1()`.
//   uuid        String    @id @id @default(dbgenerated())
//   name        String
//   description String
//   img_uri     String
//   logo_uri    String
//   tags        Json?
//   createdAt  DateTime? @default(now()) @map("created_at")
//   updatedAt  DateTime? @default(now()) @map("udpated_at")
// }

// model products_collections_products {
//   @@map(name: "products_collections_products")
//   /// The value of this field is generated by the database as: `uuid_generate_v1()`.
//   uuid            String    @id @id @default(dbgenerated())
//   collection_uuid String
//   product_uuid    String
//   createdAt      DateTime? @default(now()) @map("created_at")
//   updatedAt      DateTime? @default(now()) @map("udpated_at")
// }

model Product {
  @@map(name: "products_products")

  uuid                 String   @id @default(dbgenerated())
  name                 String
  description          String
  external_reference   String?
  img_uri              String
  sell_ex              Float
  cost_ex              Float
  gst                  Boolean  @default(false)
  qty_available        Int
  qty_sold             Int      @default(0)
  promo_release_date   DateTime
  promo_expiry_date    DateTime
  available_date       DateTime
  buy_qty              Float
  buy_multiplier       Int
  tags                 Json
  is_estimated_qty     Boolean? @default(false)
  buy_units_uuid       String
  sell_units_uuid      String
  fd_supplier_uuid     String
  fd_manufacturer_uuid String?

  is_sellable          Boolean? @default(true)
  is_global            Boolean? @default(false)
  parent_uuid          String?
  parent_blob          Json?
  media                Json?

  createdAt           DateTime @default(now()) @map("created_at")
  updatedAt           DateTime @default(now()) @map("udpated_at")
  deletedAt           DateTime? @map("deleted_at")
}


model ProductUnit {
  @@map(name: "products_units")

  uuid         String   @id @default(dbgenerated())
  singular     String
  abbreviation String

  createdAt   DateTime @default(now()) @map("created_at")
  updatedAt   DateTime @default(now()) @map("udpated_at")
  deletedAt   DateTime? @map("deleted_at")
}

// The underlying table does not contain a valid unique identifier and can therefore currently not be handled.
// model products_promos {
  // @@map(name: "products_promos")
  /// The value of this field is generated by the database as: `uuid_generate_v1()`.
  // uuid         String   @id @default(dbgenerated())
  // type         String
  // product_uuid String
  // data         Json?
  // createdAt   DateTime @default(now()) @map("created_at")
  // updatedAt   DateTime @default(now()) @map("udpated_at")
// }


// The underlying table does not contain a valid unique identifier and can therefore currently not be handled.
// model shorty_short_url {
  // @@map(name: "shorty_short_url")
  // uuid         String
  // product_uuid String?
  // fd_user_uuid String
  // first_opened DateTime?
  // times_opened Int?
  // createdAt   DateTime  @default(now()) @map("created_at")
  // updatedAt   DateTime  @default(now()) @map("udpated_at")
// }

// The underlying table does not contain a valid unique identifier and can therefore currently not be handled.
// model users_events {
  // @@map(name: "users_events")
  /// The value of this field is generated by the database as: `uuid_generate_v1()`.
  // uuid       String   @id @default(dbgenerated())
  // event      String
  // data       Json?
  // user_uuid  String?
  // createdAt DateTime @default(now()) @map("created_at")
  // updatedAt DateTime @default(now()) @map("udpated_at")
// }

// The underlying table does not contain a valid unique identifier and can therefore currently not be handled.
// model users_invitations {
  // @@map(name: "users_invitations")
  /// The value of this field is generated by the database as: `uuid_generate_v1()`.
  // uuid         String    @id @default(dbgenerated())
  // first_opened DateTime?
  // active       Boolean
  // user_uuid    String
  // expires_at   DateTime
  // createdAt   DateTime  @default(now()) @map("created_at")
  // updatedAt   DateTime  @default(now()) @map("udpated_at")
// }

// The underlying table does not contain a valid unique identifier and can therefore currently not be handled.
// model users_users {
  // @@map(name: "users_users")
  /// The value of this field is generated by the database as: `uuid_generate_v1()`.
  // uuid                  String   @id @default(dbgenerated())
  // name                  String?
  // mobile_number         String?  @unique
  // fcm_id                String?
  // auth_provider_id      String?  @unique
  // email                 String?
  // region                String?
  // permissions           Json?
  // notification_settings Json     @default("{\"sms\": true, \"web\": false, \"mobile\": false, \"welcome\": false, \"sysGenerated\": true}")
  // createdAt            DateTime @default(now()) @map("created_at")
  // updatedAt            DateTime @default(now()) @map("udpated_at")
  // access_code           String?
// }

// The underlying table does not contain a valid unique identifier and can therefore currently not be handled.
// model users_users_locations {
  // @@map(name: "users_users_locations")
  // user_uuid         String
  // name              String
  // fd_locations_uuid String
// }
